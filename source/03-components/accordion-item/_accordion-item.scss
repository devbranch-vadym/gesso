// Component: accordion-item

@use '00-config' as *;

$accordion-item-border-color: gesso-color(ui, generic, accent) !default;
$accordion-item-bg-color: gesso-grayscale(gray-1) !default;
$accordion-item-bg-color-active: gesso-grayscale(white) !default;
$accordion-item-icon-color: gesso-color(ui, generic, accent) !default;
$accordion-item-icon-size: 20px !default;

.accordion-item {
  border: solid 2px $accordion-item-border-color;
  border-bottom: 0;

  &:last-child {
    border-bottom: solid 2px $accordion-item-border-color;
  }
}

.accordion-item__heading {
  font-weight: gesso-font-weight(bold);
  margin: 0;
}

.accordion-item__toggle {
  background: $accordion-item-bg-color;
  border: 0;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  padding: rem(gesso-spacing(2)) rem(gesso-spacing(3));
  position: relative;
  text-align: left;
  transition: all gesso-duration(short) gesso-easing(ease-out);
  width: 100%;

  &[aria-expanded='true'] {
    background: $accordion-item-bg-color-active;
  }
}

.accordion-item__drawer {
  background: gesso-grayscale(white);
  display: none;

  &[aria-expanded='true'] {
    display: block;
  }
}

.accordion-item__drawer-inner {
  padding: 0 rem(gesso-spacing(8)) rem(gesso-spacing(2)) rem(gesso-spacing(3));
}

.accordion-item__icon {
  height: $accordion-item-icon-size;
  position: absolute;
  right: rem(gesso-spacing(3));
  top: 50%;
  transform: translateY(-50%);
  width: $accordion-item-icon-size;

  &::before,
  &::after {
    background-color: $accordion-item-icon-color;
    content: '';
    display: block;
    height: 2px;
    left: 50%;
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
    transform-origin: center;
    transition: transform gesso-duration(shortest) gesso-easing(ease-out);
    width: 100%;
  }

  &::after {
    transform: translate(-50%, -50%) rotate(90deg);
  }

  [aria-expanded='true'] & {
    &::after {
      transform: translate(-50%, -50%) rotate(180deg);
    }
  }
}
