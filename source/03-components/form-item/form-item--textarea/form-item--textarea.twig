{% set classes = [
  'form-item',
  'form-item--textarea',
  modifier_classes ? modifier_classes : '',
  is_disabled ? 'is-disabled' : '',
  is_full_width ? 'is-full-width' : '',
  is_required ? 'is-required' : '',
  errors ? 'has-error' : '',
  hide_label ? 'has-no-label' : '',
]|join(' ')|trim %}

{% set label_classes = [
  'form-item__label',
  is_disabled ? 'is-disabled' : '',
  is_required ? 'is-required' : '',
  hide_label ? 'u-visually-hidden' : '',
]|join(' ')|trim %}

{% if not id %}
  {% set id = 'textarea'|unique_id %}
{% endif %}

{% if not described_by %}
  {% set described_by = 'textarea-description'|unique_id %}
{% endif %}

<div {{ add_attributes({ 'class': classes }) }}>
  <label {{ add_attributes({ 'class': label_classes }, 'label_attributes') }} for="{{ id }}">
    {{- label }}

    {% if is_required %}
      {%- spaceless %}
        <span class="form-item__required-marker">
          <span class="u-visually-hidden">
            {{ 'This field is required.'|t }}
          </span>
        </span>
      {% endspaceless -%}
    {% endif -%}
  </label>
  <textarea
    class="form-item__textarea"
    id="{{ id }}"
    type="{{ type }}"
    {%- if cols %} cols="{{ cols }}"{% endif -%}
    {%- if rows %} rows="{{ rows }}"{% endif -%}
    {%- if placeholder %} placeholder="{{ placeholder }}"{% endif -%}
    {%- if disabled %} disabled="disabled"{% endif -%}
    {%- if is_disabled %} disabled="disabled"{% endif -%}
    {%- if is_required %} required="required" aria-required="true"{% endif -%}
  ></textarea>

  {% if errors %}
    <div class="form-item__error-message">
      {{ errors }}
    </div>
  {% endif %}

  {% if description %}
    <div class="form-item__description" id="{{ described_by }}">
      {{ description }}
    </div>
  {% endif %}
</div>
